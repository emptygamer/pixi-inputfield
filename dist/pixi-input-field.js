!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("PIXI")):"function"==typeof define&&define.amd?define(["PIXI"],e):"object"==typeof exports?exports.PixiInputField=e(require("PIXI")):t.PixiInputField=e(t.PIXI)}(this,(t=>(()=>{"use strict";var e={13:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var s=Object.getOwnPropertyDescriptor(e,i);s&&!("get"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,s)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.InputField=void 0;const o=r(i(700));class u extends o.Text{constructor(t,e,i,n,s){if(super(t,e,s),this.isEditing=!1,this.preEditIndex=0,this.editCursor="|",n)this.inputElement=n;else{let t=document.createElement("input");t.style.setProperty("height","0px"),t.style.setProperty("opacity","0"),t.style.setProperty("overflow","visible"),document.body.appendChild(t),this.inputElement=t}this.backgroundDisplay=i||this,this.backgroundDisplay.interactive=!0,this.backgroundDisplay.buttonMode=!0,this.backgroundDisplay.on("click",this._ClickFocus.bind(this)),this.BindInputElementEvent(this.inputElement)}_ClickFocus(t){var e;null===(e=this.inputElement)||void 0===e||e.focus(),this.isEditing=!0,this._UpdateText(t)}_EndEdit(t){this.isEditing=!1,this._UpdateText(t)}_UpdateText(t){var e;let i=0;"ArrowLeft"==t.key&&(i=-1),"ArrowRight"==t.key&&(i=1);let n=this.preEditIndex;t.target.selectionStart&&(n=t.target.selectionStart+i,this.preEditIndex=n);let s=null===(e=this.inputElement)||void 0===e?void 0:e.value;this.isEditing?this.text=s.slice(0,n)+this.editCursor+s.slice(n):this.text=s}BindInputElementEvent(t){var e,i,n;null!=this.inputElement&&this.UnBindInputElementEvent(),this.inputElement=t,null===(e=this.inputElement)||void 0===e||e.addEventListener("input",this._UpdateText.bind(this)),null===(i=this.inputElement)||void 0===i||i.addEventListener("keydown",this._UpdateText.bind(this)),null===(n=this.inputElement)||void 0===n||n.addEventListener("focusout",this._EndEdit.bind(this))}UnBindInputElementEvent(){var t,e,i;null===(t=this.inputElement)||void 0===t||t.removeEventListener("input",this._UpdateText.bind(this)),null===(e=this.inputElement)||void 0===e||e.removeEventListener("keydown",this._UpdateText.bind(this)),null===(i=this.inputElement)||void 0===i||i.removeEventListener("focusout",this._EndEdit.bind(this)),this.inputElement=void 0}GetInputText(){var t;return null===(t=this.inputElement)||void 0===t?void 0:t.value}}e.InputField=u},700:e=>{e.exports=t}},i={};return function t(n){var s=i[n];if(void 0!==s)return s.exports;var r=i[n]={exports:{}};return e[n].call(r.exports,r,r.exports,t),r.exports}(13)})()));